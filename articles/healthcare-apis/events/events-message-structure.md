---
title: Events message structure - Azure Health Data Services
description: In this article, you'll learn about Events message structure and required values.
services: healthcare-apis
author: msjasteppe
ms.service: healthcare-apis
ms.subservice: fhir
ms.topic: reference
ms.date: 07/06/2022
ms.author: jasteppe
---

# Events message structure

In this article, you'll learn about the Events message structure, required and non-required elements, and you'll be provided with samples of Events message payloads.

> [!IMPORTANT]
> Events currently supports only the following Fast Healthcare Interoperability Resources (FHIR&#174;) resource operations:
>
> - **FhirResourceCreated** - The event emitted after a FHIR resource gets created successfully.
>
> - **FhirResourceUpdated** - The event emitted after a FHIR resource gets updated successfully.
>
> - **FhirResourceDeleted** - The event emitted after a FHIR resource gets soft deleted successfully.
>
> For more information about the FHIR service delete types, see [FHIR REST API capabilities for Azure Health Data Services FHIR service](../../healthcare-apis/fhir/fhir-rest-api-capabilities.md)

## Events message structure

|Name|Type|Required|Description|
|----|----|--------|-----------|
|topic|string|Yes|The topic is the Azure Resource ID of your Azure Health Data Services workspace.|
|subject|string|Yes|The Uniform Resource Identifier (URI) of the FHIR resource that was changed. Customer can access the resource with the subject with https:// scheme. Customer should use the dataVersion or data.resourceVersionId to visit specific data version regarding this event.|
|eventType|string(enum)|Yes|The type of change on the FHIR resource.|
|eventTime|string(datetime)|Yes|The UTC time when the FHIR resource change committed.|
|id|string|Yes|Unique identifier for the event.|
|data|object|Yes|FHIR resource change event details.|
|data.resourceType|string(enum)|Yes|The FHIR Resource Type.|
|data.resourceFhirAccount|string|Yes|The service name of FHIR account in the Azure Health Data Services workspace.|
|data.resourceFhirId|string|Yes|The resource ID of the FHIR account. Note that this ID is randomly generated by the FHIR service of the Azure Health Data Services when a customer creates the Resource. Customer can also use customized ID in FHIR resource creation; however the ID should **not** include or infer any PHI/PII information. It should be a system metadata, not specific to any personal data content.|
|data.resourceVersionId|string(number)|Yes|The data version of the FHIR resource.|
|dataVersion|string|No|Same as “data.resourceVersionId”.|
|metadataVersion|string|No|The schema version of the event metadata. This is defined by Azure Event Grid and should be constant most of the time.|

## Events message samples

### FhirResourceCreated event
 
# [Event Grid event schema](#tab/event-grid-event-schema)
 
```json
{
  "id": "e4c7f556-d72c-e7f7-1069-1e82ac76ab41",
  "topic": "/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.HealthcareApis/workspaces/{workspace-name}",
  "subject": "{fhir-account}.fhir.azurehealthcareapis.com/Patient/e0a1f743-1a70-451f-830e-e96477163902",
  "data": {
    "resourceType": "Patient",
    "resourceFhirAccount": "{fhir-account}.fhir.azurehealthcareapis.com",
    "resourceFhirId": "e0a1f743-1a70-451f-830e-e96477163902",
    "resourceVersionId": 1
  },
  "eventType": "Microsoft.HealthcareApis.FhirResourceCreated",
  "dataVersion": "1",
  "metadataVersion": "1",
  "eventTime": "2021-09-08T01:14:04.5613214Z"
}
```
# [CloudEvent schema](#tab/cloud-event-schema)
 
```json
{
  "id": "d674b9b7-7d1c-9b0a-8c48-139f3eb86c48",
  "source": "/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.HealthcareApis/workspaces/{workspace-name}",
  "specversion": "1.0",
  "type": "Microsoft.HealthcareApis.FhirResourceCreated",
  "dataschema": "#1",
  "subject": "{fhir-account}.fhir.azurehealthcareapis.com/Patient/e87ef649-abe1-485c-8c09-549d85dfe30b",
  "time": "2022-02-03T16:48:09.6223354Z",
  "data": {
    "resourceType": "Patient",
    "resourceFhirAccount": "{fhir-account}.fhir.azurehealthcareapis.com",
    "resourceFhirId": "e87ef649-abe1-485c-8c09-549d85dfe30b",
    "resourceVersionId": 1
  }
}
```
---

### FhirResourceUpdated event
 
# [Event Grid event schema](#tab/event-grid-event-schema)
 
```json
{
  "id": "634bd421-8467-f23c-b8cb-f6a31e41c32a",
  "topic": "/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.HealthcareApis/workspaces/{workspace-name}",
  "subject": "{fhir-account}.fhir.azurehealthcareapis.com/Patient/e0a1f743-1a70-451f-830e-e96477163902",
  "data": {
    "resourceType": "Patient",
    "resourceFhirAccount": "{fhir-account}.fhir.azurehealthcareapis.com",
    "resourceFhirId": "e0a1f743-1a70-451f-830e-e96477163902",
    "resourceVersionId": 2
  },
  "eventType": "Microsoft.HealthcareApis.FhirResourceUpdated",
  "dataVersion": "2",
  "metadataVersion": "1",
  "eventTime": "2021-09-08T01:29:12.0618739Z"
}
```
# [CloudEvent schema](#tab/cloud-event-schema)
 
```json
{
  "id": "5e45229e-c663-ea98-72d2-833428f48ad0",
  "source": "/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.HealthcareApis/workspaces/{workspace-name}",
  "specversion": "1.0",
  "type": "Microsoft.HealthcareApis.FhirResourceUpdated",
  "dataschema": "#2",
  "subject": "{fhir-account}.fhir.azurehealthcareapis.com/Patient/e87ef649-abe1-485c-8c09-549d85dfe30b",
  "time": "2022-02-03T16:48:33.5147352Z",
  "data": {
    "resourceType": "Patient",
    "resourceFhirAccount": "{fhir-account}.fhir.azurehealthcareapis.com",
    "resourceFhirId": "e87ef649-abe1-485c-8c09-549d85dfe30b",
    "resourceVersionId": 2
  }
}
```
---

### FhirResourceDeleted event
 
# [Event Grid event schema](#tab/event-grid-event-schema)
 
```json
{
  "id": "ef289b93-3159-b833-3a44-dc6b86ed1a8a",
  "topic": "/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.HealthcareApis/workspaces/{workspace-name}",
  "subject": "{fhir-account}.fhir.azurehealthcareapis.com/Patient/e0a1f743-1a70-451f-830e-e96477163902",
  "data": {
    "resourceType": "Patient",
    "resourceFhirAccount": "{fhir-account}.fhir.azurehealthcareapis.com",
    "resourceFhirId": "e0a1f743-1a70-451f-830e-e96477163902",
    "resourceVersionId": 3
  },
  "eventType": "Microsoft.HealthcareApis.FhirResourceDeleted",
  "dataVersion": "3",
  "metadataVersion": "1",
  "eventTime": "2021-09-08T01:31:58.5175837Z"
}
```
# [CloudEvent schema](#tab/cloud-event-schema)
 
```json
{
  "id": "14648a6e-d978-950e-ee9c-f84c70dba8d3",
  "source": "/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.HealthcareApis/workspaces/{workspace-name}",
  "specversion": "1.0",
  "type": "Microsoft.HealthcareApis.FhirResourceDeleted",
  "dataschema": "#3",
  "subject": "{fhir-account}.fhir.azurehealthcareapis.com/Patient/e87ef649-abe1-485c-8c09-549d85dfe30b",
  "time": "2022-02-03T16:48:38.7338799Z",
  "data": {
    "resourceType": "Patient",
    "resourceFhirAccount": "{fhir-account}.fhir.azurehealthcareapis.com",
    "resourceFhirId": "e87ef649-abe1-485c-8c09-549d85dfe30b",
    "resourceVersionId": 3
  }
}
```
---

## Next steps

For more information about deploying Events, see

>[!div class="nextstepaction"]
>[Deploying Events in the Azure portal](./events-deploy-portal.md)

FHIR&#174; is a registered trademark of Health Level Seven International, registered in the U.S. Trademark Office and is used with their permission.
